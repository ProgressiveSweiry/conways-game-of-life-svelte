import{s as se,n as Y,c as Z,o as ye,x as F,r as be,i as ne,e as Ce}from"../chunks/scheduler.PZcCvK_G.js";import{S as le,i as ie,e as b,c as v,a as E,d as S,o as d,g as M,y as ve,s as A,f as j,h,p as H,z as N,t as J,A as K,b as Q,B as re,j as oe,C as ze,u as ue,v as ce,w as fe,k as he,l as de,x as me}from"../chunks/index.Ch7UTGgF.js";import{w as we}from"../chunks/index.BG005zdw.js";function $(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const Ne=!0,ke=!1,Ee=!0,Me=Object.freeze(Object.defineProperty({__proto__:null,csr:Ee,prerender:Ne,ssr:ke},Symbol.toStringTag,{value:"Module"})),W=we(!1),X=we(0);function ge(e,t,n){const s=e.slice();return s[20]=t[n],s[22]=n,s}function pe(e,t,n){const s=e.slice();return s[23]=t[n],s[25]=n,s}function _e(e){let t,n,s,i;function a(){return e[11](e[22],e[25])}function r(){return e[14](e[22],e[25])}return{c(){t=b("button"),this.h()},l(l){t=v(l,"BUTTON",{class:!0,style:!0}),E(t).forEach(S),this.h()},h(){d(t,"class",n=`border border-gray-200 ${e[23]?"bg-cyan-600":"bg-white"}`),H(t,"width",e[0]+"em"),H(t,"height",e[0]+"em")},m(l,u){M(l,t,u),s||(i=[N(t,"click",a),N(t,"mousedown",e[12]),N(t,"mouseup",e[13]),N(t,"mouseenter",r)],s=!0)},p(l,u){e=l,u&2&&n!==(n=`border border-gray-200 ${e[23]?"bg-cyan-600":"bg-white"}`)&&d(t,"class",n),u&1&&H(t,"width",e[0]+"em"),u&1&&H(t,"height",e[0]+"em")},d(l){l&&S(t),s=!1,be(i)}}}function Se(e){let t,n,s=$(e[20]),i=[];for(let a=0;a<s.length;a+=1)i[a]=_e(pe(e,s,a));return{c(){t=b("div");for(let a=0;a<i.length;a+=1)i[a].c();n=A(),this.h()},l(a){t=v(a,"DIV",{class:!0});var r=E(t);for(let l=0;l<i.length;l+=1)i[l].l(r);n=j(r),r.forEach(S),this.h()},h(){d(t,"class","flex")},m(a,r){M(a,t,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null);h(t,n)},p(a,r){if(r&15){s=$(a[20]);let l;for(l=0;l<s.length;l+=1){const u=pe(a,s,l);i[l]?i[l].p(u,r):(i[l]=_e(u),i[l].c(),i[l].m(t,n))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},d(a){a&&S(t),ve(i,a)}}}function Ie(e){let t,n=$(e[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Se(ge(e,n,i));return{c(){t=b("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){t=v(i,"DIV",{class:!0});var a=E(t);for(let r=0;r<s.length;r+=1)s[r].l(a);a.forEach(S),this.h()},h(){d(t,"class","inline-block border border-gray-300")},m(i,a){M(i,t,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,null)},p(i,[a]){if(a&15){n=$(i[1]);let r;for(r=0;r<n.length;r+=1){const l=ge(i,n,r);s[r]?s[r].p(l,a):(s[r]=Se(l),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i:Y,o:Y,d(i){i&&S(t),ve(s,i)}}}function Te(e,t,n){let s,i;Z(e,W,o=>n(16,s=o)),Z(e,X,o=>n(17,i=o));let{gridSize:a=30}=t,{cellSize:r=5}=t,l=[],u=null,f=!1,{speed:p=200}=t;function I(){n(1,l=Array(a).fill(null).map(()=>Array(a).fill(!1))),F(X,i=0,i)}function w(o,g){n(1,l[o][g]=!l[o][g],l),n(1,l)}function D(o,g){let m=0;for(let _=-1;_<=1;_++)for(let C=-1;C<=1;C++){if(_===0&&C===0)continue;const P=o+_,V=g+C;P>=0&&P<a&&V>=0&&V<a&&(m+=l[P][V]?1:0)}return m}function R(){let o=!1;const g=l.map(m=>[...m]);for(let m=0;m<a;m++)for(let _=0;_<a;_++){const C=D(m,_);l[m][_]?((C<2||C>3)&&(g[m][_]=!1),o=!0):C===3&&(g[m][_]=!0)}if(!o){O();return}n(1,l=g),F(X,i++,i)}function c(){s||(F(W,s=!0,s),u=setInterval(R,p))}function G(o){n(4,p=o),s&&(O(),c())}function O(){s&&u&&(F(W,s=!1,s),clearInterval(u),u=null),n(2,f=!1)}function x(){O(),I()}ye(()=>{I()});const y=(o,g)=>w(o,g),T=()=>{n(2,f=!0)},q=()=>{n(2,f=!1)},L=(o,g)=>{f&&!l[o][g]&&w(o,g)};return e.$$set=o=>{"gridSize"in o&&n(5,a=o.gridSize),"cellSize"in o&&n(0,r=o.cellSize),"speed"in o&&n(4,p=o.speed)},[r,l,f,w,p,a,I,c,G,O,x,y,T,q,L]}class Ae extends le{constructor(t){super(),ie(this,t,Te,Ie,se,{gridSize:5,cellSize:0,speed:4,initializeGrid:6,startSimulation:7,updateSpeed:8,stopSimulation:9,resetSimulation:10})}get initializeGrid(){return this.$$.ctx[6]}get startSimulation(){return this.$$.ctx[7]}get updateSpeed(){return this.$$.ctx[8]}get stopSimulation(){return this.$$.ctx[9]}get resetSimulation(){return this.$$.ctx[10]}}function je(e){let t,n,s,i="Start",a,r,l="Stop",u,f,p="Reset",I,w,D,R,c,G,O,x,y,T,q="Speed:",L,o,g,m,_,C,P,V,ae;return{c(){t=b("div"),n=b("div"),s=b("button"),s.textContent=i,a=A(),r=b("button"),r.textContent=l,u=A(),f=b("button"),f.textContent=p,I=A(),w=b("div"),R=A(),c=b("span"),G=J(e[6]),O=J(" Steps"),x=A(),y=b("div"),T=b("span"),T.textContent=q,L=A(),o=b("input"),g=A(),m=b("span"),_=J(e[4]),C=J("ms"),this.h()},l(B){t=v(B,"DIV",{class:!0});var z=E(t);n=v(z,"DIV",{class:!0});var k=E(n);s=v(k,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-4makd0"&&(s.textContent=i),a=j(k),r=v(k,"BUTTON",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-j4yvew"&&(r.textContent=l),u=j(k),f=v(k,"BUTTON",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-18vfl7k"&&(f.textContent=p),I=j(k),w=v(k,"DIV",{class:!0}),E(w).forEach(S),R=j(k),c=v(k,"SPAN",{class:!0});var ee=E(c);G=Q(ee,e[6]),O=Q(ee," Steps"),ee.forEach(S),k.forEach(S),x=j(z),y=v(z,"DIV",{class:!0});var U=E(y);T=v(U,"SPAN",{class:!0,"data-svelte-h":!0}),K(T)!=="svelte-1vwmrog"&&(T.textContent=q),L=j(U),o=v(U,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),g=j(U),m=v(U,"SPAN",{class:!0});var te=E(m);_=Q(te,e[4]),C=Q(te,"ms"),te.forEach(S),U.forEach(S),z.forEach(S),this.h()},h(){d(s,"class","px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"),d(r,"class","px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"),d(f,"class","px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"),d(w,"class",D=`w-4 h-4 rounded-full ${e[5]?"bg-green-500":"bg-red-500"}`),d(c,"class","truncate text-center"),d(n,"class","space-x-2 object-center flex items-center"),d(T,"class","mr-2"),d(o,"type","range"),d(o,"min","10"),d(o,"max","300"),d(o,"step","10"),d(o,"class","w-full"),d(m,"class","ml-2 pr-3"),d(y,"class","flex items-center mt-3"),d(t,"class",P="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg "+(e[3]?"opacity-100":"opacity-60"))},m(B,z){M(B,t,z),h(t,n),h(n,s),h(n,a),h(n,r),h(n,u),h(n,f),h(n,I),h(n,w),h(n,R),h(n,c),h(c,G),h(c,O),h(t,x),h(t,y),h(y,T),h(y,L),h(y,o),re(o,e[4]),h(y,g),h(y,m),h(m,_),h(m,C),V||(ae=[N(s,"click",function(){ne(e[0])&&e[0].apply(this,arguments)}),N(r,"click",function(){ne(e[1])&&e[1].apply(this,arguments)}),N(f,"click",function(){ne(e[2])&&e[2].apply(this,arguments)}),N(o,"change",e[9]),N(o,"input",e[9]),N(o,"change",e[7]),N(t,"mouseenter",e[10]),N(t,"mouseleave",e[11])],V=!0)},p(B,[z]){e=B,z&32&&D!==(D=`w-4 h-4 rounded-full ${e[5]?"bg-green-500":"bg-red-500"}`)&&d(w,"class",D),z&64&&oe(G,e[6]),z&16&&re(o,e[4]),z&16&&oe(_,e[4]),z&8&&P!==(P="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg "+(e[3]?"opacity-100":"opacity-60"))&&d(t,"class",P)},i:Y,o:Y,d(B){B&&S(t),V=!1,be(ae)}}}function De(e,t,n){let s,i;Z(e,W,c=>n(5,s=c)),Z(e,X,c=>n(6,i=c));let{startSimulation:a}=t,{stopSimulation:r}=t,{resetSimulation:l}=t,{updateSpeed:u}=t,f=!1,p=200;function I(c){const G=parseInt(c.target.value);u(G)}function w(){p=ze(this.value),n(4,p)}const D=()=>{n(3,f=!0)},R=()=>{n(3,f=!1)};return e.$$set=c=>{"startSimulation"in c&&n(0,a=c.startSimulation),"stopSimulation"in c&&n(1,r=c.stopSimulation),"resetSimulation"in c&&n(2,l=c.resetSimulation),"updateSpeed"in c&&n(8,u=c.updateSpeed)},[a,r,l,f,p,s,i,I,u,w,D,R]}class Ge extends le{constructor(t){super(),ie(this,t,De,je,se,{startSimulation:0,stopSimulation:1,resetSimulation:2,updateSpeed:8})}}function Oe(e){let t,n,s,i,a,r={gridSize:Pe,cellSize:e[1]};return n=new Ae({props:r}),e[6](n),i=new Ge({props:{startSimulation:e[2],stopSimulation:e[3],resetSimulation:e[4],updateSpeed:e[5]}}),{c(){t=b("main"),ue(n.$$.fragment),s=A(),ue(i.$$.fragment),this.h()},l(l){t=v(l,"MAIN",{class:!0});var u=E(t);ce(n.$$.fragment,u),u.forEach(S),s=j(l),ce(i.$$.fragment,l),this.h()},h(){d(t,"class","flex justify-center items-center min-h-screen bg-gray-100")},m(l,u){M(l,t,u),fe(n,t,null),M(l,s,u),fe(i,l,u),a=!0},p(l,[u]){const f={};n.$set(f)},i(l){a||(he(n.$$.fragment,l),he(i.$$.fragment,l),a=!0)},o(l){de(n.$$.fragment,l),de(i.$$.fragment,l),a=!1},d(l){l&&(S(t),S(s)),e[6](null),me(n),me(i,l)}}}let Pe=100;function Re(e,t,n){let s,i=.6;function a(){s.startSimulation()}function r(){s.stopSimulation()}function l(){s.resetSimulation()}function u(p){s.updateSpeed(p)}function f(p){Ce[p?"unshift":"push"](()=>{s=p,n(0,s)})}return[s,i,a,r,l,u,f]}class xe extends le{constructor(t){super(),ie(this,t,Re,Oe,se,{})}}export{xe as component,Me as universal};
